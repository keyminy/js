<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>로그인 페이지 - 데이터 확인</title>
  <script src="./09-04_util.js"></script>
  <style>
    .requiredItem {color: red;}
  </style>
  <script>
    function checkSubmit(){
      //alert("checkSubmit()");
      //필수 데이터 항목 : id,pw
      var id = sel("id");
      if(!id.value){
        alert("아이디는 반드시 입력하셔야 합니다.");
        id.focus();
        return false;
      }
      var pw = sel("pw"); //id가 pw인 객체찾아서 변수 pw에 저장
      //데이터가 없는 경우의 처리
      if(!pw.value){ //pw의 길이가 0이면 false나옴
        alert("비번 입력하셔야합니다");
        pw.focus();//커서를 pw입력란에 위치시키지
        return false;//submit이 일어나면 안되니.
      } 

      //최소 길이 제한
      //아이디와 비밀번호는 4자 이상 쓰기
      if(id.value.length < 4){
        alert("아이디는 4자 이상 이여야합니다");
        id.focus();
        return false; //submit 무시시키기
      }
      //비밀번호 -> 경고,포커스,입력했던 데이터 지우기,submit막기(return false)
      if(pw.value.length < 4){
        alert("비밀번호는 4자 이상 이여야합니다");
        pw.value=""; //입력했던 데이터 지우기
        pw.focus();
        return false; //submit 무시시키기
      }
 

     //이벤트 처리하는 곳에서도 return을 하고있도록 작성한다.
      return false; //return false로 인해 submit()을 취소시킨다.
    }
    //id넣을때 input 태그의 공백을 지우는 함수
    //String의 trim() 메소드
    //값의 공백을 제거한 후 다시 입력란의 값으로 넣어준다(keyup 이벤트)
    function removeBlank(inputObj){
      //alert("removeBlank()");
      var v = inputObj.value;
      //alert("["+v+"]");
      inputObj.value = v.trim(); //공백이 제거된걸 넣어줍니다.
      //alert("["+inputObj.value+"]"); //공백 제거된걸 알 수 있당..
    }
  </script>
</head> 
<body>
  <h1>로그인</h1>
  <span class="requiredItem">*</span>는 필수 입력입니다.
  <!--form태그에서 submit이벤트가 발생하는데 return checkSubmit()=false으로 인해 주소뒤에 # 붙으면서 전송현상이 없음!!-->
  <form action="#" method="post" id="loginForm" onsubmit="return checkSubmit();">
    <label><span class="requiredItem">*</span>아이디</label>
    <input type="text" name="id" id="id" placeholder="4자이상 입력이 필요합니다." onkeyup="removeBlank(this);"><br>    
    <label><span class="requiredItem">*</span>비밀번호</label>
    <!--pw부분은 js로 막음-->
    <input type="password" name="pw" id="pw" placeholder="4자이상 입력이 필요합니다."><br>
    <button id="loginBtn">로그인</button>
  </form>
</body>
</html>